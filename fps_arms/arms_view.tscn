[gd_scene load_steps=18 format=3 uid="uid://b8i8vajkg00s0"]

[ext_resource type="Script" path="res://fps_arms/arms_view.gd" id="1_e15a3"]
[ext_resource type="PackedScene" uid="uid://caxt51h474pab" path="res://assets/fps_arms.glb" id="2_g8snw"]
[ext_resource type="Material" path="res://assets/materials/arms_mat.tres" id="3_jikf0"]
[ext_resource type="Material" uid="uid://b01cwao6pymvk" path="res://assets/materials/gloves_mat.tres" id="4_jyjh0"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l7ajn"]
albedo_color = Color(0.0705882, 0.0705882, 0.0705882, 1)
roughness = 0.5

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8slb4"]
animation = &"Reload"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ypa3v"]
animation = &"Fire"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_nvxr8"]
filters = ["rig/Skeleton3D:DEF-forearm.L", "rig/Skeleton3D:DEF-forearm.L.001", "rig/Skeleton3D:DEF-forearm.R", "rig/Skeleton3D:DEF-forearm.R.001", "rig/Skeleton3D:DEF-shoulder.L", "rig/Skeleton3D:DEF-shoulder.R", "rig/Skeleton3D:DEF-upper_arm.L", "rig/Skeleton3D:DEF-upper_arm.L.001", "rig/Skeleton3D:DEF-upper_arm.R", "rig/Skeleton3D:DEF-upper_arm.R.001"]
fadeout_time = 0.2

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7nndk"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q80um"]
animation = &"Walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k0f14"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ge6n4"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tqvry"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ogsqu"]
states/End/position = Vector2(736, 64)
states/Idle/node = SubResource("AnimationNodeAnimation_7nndk")
states/Idle/position = Vector2(483, 64)
states/Start/position = Vector2(356, 64)
states/Walk/node = SubResource("AnimationNodeAnimation_q80um")
states/Walk/position = Vector2(589, 64)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_k0f14"), "Idle", "Walk", SubResource("AnimationNodeStateMachineTransition_ge6n4"), "Walk", "Idle", SubResource("AnimationNodeStateMachineTransition_tqvry")]
graph_offset = Vector2(-35, -58)

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_s8h30"]
fadein_time = 0.1
fadeout_time = 0.1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_4dyah"]
graph_offset = Vector2(-694, 69)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_8slb4")
"nodes/Animation 2/position" = Vector2(-100, 340)
nodes/Fire/node = SubResource("AnimationNodeAnimation_ypa3v")
nodes/Fire/position = Vector2(-360, 180)
nodes/FireShot/node = SubResource("AnimationNodeOneShot_nvxr8")
nodes/FireShot/position = Vector2(-100, 100)
nodes/MainState/node = SubResource("AnimationNodeStateMachine_ogsqu")
nodes/MainState/position = Vector2(-360, 20)
nodes/ReloadShot/node = SubResource("AnimationNodeOneShot_s8h30")
nodes/ReloadShot/position = Vector2(120, 160)
nodes/output/position = Vector2(480, 100)
node_connections = [&"output", 0, &"ReloadShot", &"FireShot", 0, &"MainState", &"FireShot", 1, &"Fire", &"ReloadShot", 0, &"FireShot", &"ReloadShot", 1, &"Animation 2"]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_7sge0"]

[node name="ArmsView" type="SubViewportContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
script = ExtResource("1_e15a3")

[node name="SubViewport" type="SubViewport" parent="."]
transparent_bg = true
handle_input_locally = false
msaa_3d = 2
mesh_lod_threshold = 0.0
size = Vector2i(1280, 720)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="Root" type="Node3D" parent="SubViewport"]
unique_name_in_owner = true

[node name="Arms" type="Node3D" parent="SubViewport/Root"]
unique_name_in_owner = true
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)

[node name="Camera3D" type="Camera3D" parent="SubViewport/Root/Arms"]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0.25, -0.35)
cull_mask = 1047554
fov = 35.0
far = 4.0

[node name="fps_arms" parent="SubViewport/Root/Arms" instance=ExtResource("2_g8snw")]
unique_name_in_owner = true

[node name="Skeleton3D" parent="SubViewport/Root/Arms/fps_arms/rig" index="0"]
bones/0/position = Vector3(0.0183, -1.42327e-08, 0.0213051)
bones/0/rotation = Quaternion(-0.249224, -0.66165, -0.661946, 0.248866)
bones/1/position = Vector3(0.14544, -0.0126585, 0.180714)
bones/1/rotation = Quaternion(0.194998, -0.477562, -0.836964, -0.182762)
bones/1/scale = Vector3(1.01021, 0.979888, 1.01021)
bones/2/position = Vector3(-9.87347e-09, 0.144255, 1.92085e-09)
bones/2/rotation = Quaternion(-1.01427e-07, 0.0623222, -7.77765e-08, 0.998056)
bones/2/scale = Vector3(1, 1, 1)
bones/3/position = Vector3(-1.37662e-08, 0.144255, 1.62701e-08)
bones/3/rotation = Quaternion(0.641495, 0.0620836, -0.0524181, 0.762812)
bones/3/scale = Vector3(1.00174, 0.9675, 1.03185)
bones/4/position = Vector3(-1.62398e-08, 0.129905, 4.27827e-08)
bones/4/rotation = Quaternion(1.47656e-07, 0.0236172, -8.67599e-08, 0.999721)
bones/4/scale = Vector3(1, 1, 1)
bones/5/position = Vector3(-3.01213e-08, 0.129905, -6.6983e-09)
bones/5/rotation = Quaternion(-0.512769, 0.0247195, 0.279614, 0.81134)
bones/5/scale = Vector3(0.994772, 0.992008, 1.01393)
bones/6/position = Vector3(-0.0111215, 0.119133, 0.0413788)
bones/6/rotation = Quaternion(0.360194, 0.609423, -0.282218, 0.64747)
bones/6/scale = Vector3(1, 0.999999, 1)
bones/7/position = Vector3(-6.59215e-09, 0.0428275, -1.06426e-08)
bones/7/rotation = Quaternion(0.397634, 0.000146978, -5.63587e-05, 0.917544)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(-9.69318e-09, 0.0261567, 1.69391e-08)
bones/8/rotation = Quaternion(0.375243, 3.78705e-05, -1.3145e-05, 0.926927)
bones/8/scale = Vector3(1, 0.999999, 1)
bones/9/position = Vector3(0.00223381, 0.03451, 0.0347816)
bones/9/rotation = Quaternion(-0.0201989, 0.939634, 0.308306, -0.147065)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(-1.45272e-08, 0.0516582, -3.33813e-09)
bones/10/rotation = Quaternion(0.0937204, -0.250601, 0.0123768, 0.963464)
bones/10/scale = Vector3(1, 0.999999, 1)
bones/11/position = Vector3(5.70257e-09, 0.0357599, 1.82523e-08)
bones/11/rotation = Quaternion(0.099776, -0.000421289, 0.0276207, 0.994626)
bones/11/scale = Vector3(1, 1, 1)
bones/12/position = Vector3(-0.0099587, 0.0418512, 0.0205974)
bones/12/rotation = Quaternion(0.0936215, -0.733952, -0.0921817, 0.666373)
bones/12/scale = Vector3(1, 1, 1)
bones/13/position = Vector3(-0.00445972, 0.11973, 0.0159748)
bones/13/rotation = Quaternion(0.370192, 0.547012, -0.297637, 0.68931)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(-4.10863e-09, 0.0460255, 1.89293e-08)
bones/14/rotation = Quaternion(0.394889, -4.34392e-05, 1.80604e-05, 0.918729)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(2.62214e-08, 0.0279555, -4.84421e-08)
bones/15/rotation = Quaternion(0.374041, 3.31271e-05, -9.25228e-06, 0.927412)
bones/15/scale = Vector3(1, 0.999999, 1)
bones/16/position = Vector3(-0.00563691, 0.0451983, 0.00454246)
bones/16/rotation = Quaternion(0.0418848, -0.780771, -0.0649835, 0.620015)
bones/16/scale = Vector3(1, 1, 1)
bones/17/position = Vector3(0.00653048, 0.116783, -0.00967077)
bones/17/rotation = Quaternion(0.391208, 0.478602, -0.308487, 0.723003)
bones/17/scale = Vector3(1, 0.999999, 1)
bones/18/position = Vector3(-1.08759e-08, 0.0425337, 5.48956e-08)
bones/18/rotation = Quaternion(0.398304, -3.55593e-05, 1.53384e-05, 0.917254)
bones/18/scale = Vector3(1, 1, 1)
bones/19/position = Vector3(-1.4471e-08, 0.0254497, 1.67371e-08)
bones/19/rotation = Quaternion(0.368216, 9.35128e-09, -3.31118e-06, 0.92974)
bones/19/scale = Vector3(1, 1, 1)
bones/20/position = Vector3(-0.00141763, 0.044098, -0.0103898)
bones/20/rotation = Quaternion(-0.0418556, -0.822686, -0.0350406, 0.565869)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0.0212957, 0.109398, -0.0301443)
bones/21/rotation = Quaternion(0.40622, 0.391891, -0.330242, 0.756536)
bones/21/scale = Vector3(1, 1, 1)
bones/22/position = Vector3(3.96175e-09, 0.0333939, 1.68012e-08)
bones/22/rotation = Quaternion(0.415172, 1.42124e-05, 1.45376e-05, 0.909743)
bones/22/scale = Vector3(1, 0.999999, 0.999999)
bones/23/position = Vector3(1.13642e-08, 0.0221543, 3.90218e-08)
bones/23/rotation = Quaternion(0.380799, -1.41293e-05, -4.09666e-05, 0.924658)
bones/23/scale = Vector3(1, 0.999999, 1)
bones/24/position = Vector3(0.00274837, 0.0409248, -0.0247465)
bones/24/rotation = Quaternion(-0.134076, -0.856519, -0.0323353, 0.497347)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(-0.0183, -1.42327e-08, 0.0213051)
bones/25/rotation = Quaternion(-0.557644, 0.43504, 0.435107, 0.557185)
bones/25/scale = Vector3(1, 1, 1)
bones/26/position = Vector3(-0.218189, -0.0126585, -0.0189451)
bones/26/rotation = Quaternion(0.0319386, 0.613377, 0.788311, 0.0362512)
bones/26/scale = Vector3(1.00456, 0.990945, 1.00456)
bones/27/position = Vector3(-1.46902e-08, 0.144255, -1.80444e-09)
bones/27/rotation = Quaternion(4.52073e-09, -0.0172196, 8.97365e-10, 0.999852)
bones/27/scale = Vector3(1, 1, 1)
bones/28/position = Vector3(-6.14084e-09, 0.144255, 6.16873e-09)
bones/28/rotation = Quaternion(0.4016, -0.0171632, 0.00751835, 0.915623)
bones/28/scale = Vector3(1.0007, 0.99131, 1.00816)
bones/29/position = Vector3(-1.07684e-08, 0.129905, 5.52972e-09)
bones/29/rotation = Quaternion(-3.97283e-08, 0.0101233, -7.43352e-08, 0.999949)
bones/29/scale = Vector3(1, 1, 1)
bones/30/position = Vector3(-1.719e-09, 0.129905, -2.65316e-08)
bones/30/rotation = Quaternion(-0.207561, 0.0100018, -0.0010169, 0.97817)
bones/30/scale = Vector3(0.994771, 1.00796, 0.997388)
bones/31/position = Vector3(0.0111215, 0.119133, 0.0413787)
bones/31/rotation = Quaternion(-0.152621, -0.656759, -0.0524635, 0.736629)
bones/31/scale = Vector3(1, 0.999999, 1)
bones/32/position = Vector3(2.29089e-10, 0.0428274, 2.15008e-09)
bones/32/rotation = Quaternion(0.338652, 0.0181856, 0.00830713, 0.940699)
bones/32/scale = Vector3(1, 1, 1)
bones/33/position = Vector3(5.96691e-09, 0.0261567, -5.36511e-09)
bones/33/rotation = Quaternion(0.225527, -3.879e-05, 5.03393e-06, 0.974237)
bones/33/scale = Vector3(1, 1, 1)
bones/34/position = Vector3(-0.00223389, 0.0345102, 0.0347816)
bones/34/rotation = Quaternion(-0.293781, 0.818408, 0.411072, 0.273716)
bones/34/scale = Vector3(1, 1.04139, 1)
bones/35/position = Vector3(1.274e-08, 0.0516583, -1.83653e-08)
bones/35/rotation = Quaternion(0.36138, -0.194826, -0.0190072, 0.911639)
bones/35/scale = Vector3(0.998757, 0.978565, 0.983356)
bones/36/position = Vector3(-4.41901e-09, 0.0357599, -3.58323e-08)
bones/36/rotation = Quaternion(0.289866, -0.207372, -0.0563738, 0.932629)
bones/36/scale = Vector3(1, 1, 1)
bones/37/position = Vector3(0.00995867, 0.0418513, 0.0205974)
bones/37/rotation = Quaternion(0.0936214, 0.733952, 0.0921817, 0.666373)
bones/37/scale = Vector3(1, 1, 1)
bones/38/position = Vector3(0.00792405, 0.119675, 0.0146855)
bones/38/rotation = Quaternion(0.233277, -0.565937, 0.40325, 0.680211)
bones/38/scale = Vector3(1, 1, 1)
bones/39/position = Vector3(7.75184e-10, 0.0460255, 2.16128e-08)
bones/39/rotation = Quaternion(0.514705, 0.0151035, -0.00906878, 0.857186)
bones/39/scale = Vector3(1, 1, 1)
bones/40/position = Vector3(-2.90177e-08, 0.0279555, -2.09695e-08)
bones/40/rotation = Quaternion(0.495294, -3.15353e-05, 1.42109e-05, 0.868725)
bones/40/scale = Vector3(1, 1, 1)
bones/41/position = Vector3(0.00832048, 0.0450323, 0.0039426)
bones/41/rotation = Quaternion(0.0446331, 0.763719, 0.0569787, 0.641479)
bones/41/scale = Vector3(1, 1, 1)
bones/42/position = Vector3(0.00264346, 0.116649, -0.013001)
bones/42/rotation = Quaternion(0.224741, -0.536834, 0.381554, 0.718134)
bones/42/scale = Vector3(1, 0.999999, 1)
bones/43/position = Vector3(1.11498e-08, 0.0425337, -9.47161e-08)
bones/43/rotation = Quaternion(0.517282, 0.0440978, -0.0267027, 0.854261)
bones/43/scale = Vector3(1, 0.999999, 1)
bones/44/position = Vector3(1.02765e-08, 0.0254498, -1.25746e-09)
bones/44/rotation = Quaternion(0.489834, -1.30316e-07, 4.75731e-06, 0.871816)
bones/44/scale = Vector3(1, 1, 1)
bones/45/position = Vector3(0.006791, 0.0436607, -0.0115263)
bones/45/rotation = Quaternion(-0.0284184, 0.790236, 0.00954675, 0.612068)
bones/45/scale = Vector3(1, 1, 1)
bones/46/position = Vector3(-0.00426107, 0.109941, -0.0363534)
bones/46/rotation = Quaternion(0.396204, -0.434748, 0.418264, 0.69215)
bones/46/scale = Vector3(1, 1, 1)
bones/47/position = Vector3(-8.84145e-09, 0.0333939, 2.35051e-08)
bones/47/rotation = Quaternion(0.337235, 0.18763, -0.0688009, 0.919964)
bones/47/scale = Vector3(1, 1, 1)
bones/48/position = Vector3(2.77459e-08, 0.0221543, 8.53953e-08)
bones/48/rotation = Quaternion(0.308765, 1.06837e-05, 4.2511e-05, 0.951138)
bones/48/scale = Vector3(1, 0.999999, 1)
bones/49/position = Vector3(0.00532021, 0.0401556, -0.0263614)
bones/49/rotation = Quaternion(-0.0969761, 0.812381, -0.0192363, 0.574685)
bones/49/scale = Vector3(1, 1, 1)
bones/50/position = Vector3(-0.195016, 0.0553677, 0.473228)
bones/50/rotation = Quaternion(0.0623892, 0.758851, 0.647711, 0.0268814)
bones/50/scale = Vector3(1, 1, 1)
bones/51/rotation = Quaternion(0.066097, 0.758537, 0.647572, -0.0300464)

[node name="simple_gun" parent="SubViewport/Root/Arms/fps_arms/rig/Skeleton3D" index="0"]
transform = Transform3D(0.999928, -0.0120037, -1.546e-07, 0.0120038, 0.999928, -1.93715e-07, 1.63468e-07, 4.63034e-08, 1, -0.160335, 0.111164, 0.604451)
bone_idx = 52

[node name="simple_gun" parent="SubViewport/Root/Arms/fps_arms/rig/Skeleton3D/simple_gun" index="0"]
layers = 2
material_override = SubResource("StandardMaterial3D_l7ajn")

[node name="GunEnd" type="Marker3D" parent="SubViewport/Root/Arms/fps_arms/rig/Skeleton3D/simple_gun/simple_gun" index="0"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.051, 0.157)

[node name="arms" parent="SubViewport/Root/Arms/fps_arms/rig/Skeleton3D" index="1"]
layers = 2
surface_material_override/0 = ExtResource("3_jikf0")
surface_material_override/1 = ExtResource("4_jyjh0")

[node name="AnimationTree" type="AnimationTree" parent="."]
unique_name_in_owner = true
tree_root = SubResource("AnimationNodeBlendTree_4dyah")
anim_player = NodePath("../SubViewport/Root/Arms/fps_arms/AnimationPlayer")
active = true
parameters/FireShot/active = false
parameters/FireShot/request = 0
parameters/MainState/playback = SubResource("AnimationNodeStateMachinePlayback_7sge0")
parameters/ReloadShot/active = false
parameters/ReloadShot/request = 0

[editable path="SubViewport/Root/Arms/fps_arms"]
